exit
Reservation.active_and_reserved
reservation
Reservation.active_and_reserved
exit
Reservation.active_and_reserved
exit
reservation
table
exit
table
exit
tables
reservation
exit
table_ids.to_a
table_ids
exit
start_datetime..end_datetime
end_datetime
datetime
start_datetime
exit
table_ids
exit
reservation_params
@reservation
exit
params
@reservation.errors
@reservation.valid?
exit
params
@reservation.errors
@reservation.valid?
@reservation.errors
exit
@reservation.errors
@reservation.valid?
exit
@tables
exit
joins(['LEFT JOIN reservations ON reservations.table_id = tables.id AND reservations.date_time NOT BETWEEN ? AND ?', start_datetime, end_datetime]).where('chairs <= ?', total_seats)
    end_datetime = start_datetime + 1.hour
start_datetime = datetime.to_time
joins(['LEFT JOIN reservations ON reservations.table_id = tables.id AND reservations.date_time NOT BETWEEN ? AND ?', start_datetime, end_datetime]).where('chairs <= ?', total_seats)
datetime.to_time
datetime
